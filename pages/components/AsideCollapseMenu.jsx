import { Backdrop, Fade, useMediaQuery } from "@material-ui/core";
import zIndex from "@material-ui/core/styles/zIndex";
import React, { useEffect, useState } from "react";

const AsideCollapseMenu = () => {

  // media querys
  const match_mq__maxWith_768 = useMediaQuery("(max-width:768px)");

  const match_mq__maxWith_1024 = useMediaQuery("(max-width:1024px)");

  // Hooks
  const [isActive, setIsActive] = useState("Vista general");

  const [isCollapse, setIsCollapse] = useState(match_mq__maxWith_768);

  const [backdropOpen, setBackdropOpen] = useState(isCollapse);
  
  useEffect(() => {
    setIsCollapse(match_mq__maxWith_768);
  }, [match_mq__maxWith_768]);

  useEffect(() => {
    setBackdropOpen(!isCollapse);
  }, [isCollapse]);

  const menuItems = [
    {
      svg: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20.422"
          height="20.422"
          viewBox="0 0 20.422 20.422"
        >
          <defs>
            <style></style>
          </defs>
          <path
            class="a"
            d="M7.871,0H1.489A1.491,1.491,0,0,0,0,1.489V5.318A1.491,1.491,0,0,0,1.489,6.807H7.871A1.491,1.491,0,0,0,9.36,5.318V1.489A1.491,1.491,0,0,0,7.871,0Zm.213,5.318a.213.213,0,0,1-.213.213H1.489a.213.213,0,0,1-.213-.213V1.489a.213.213,0,0,1,.213-.213H7.871a.213.213,0,0,1,.213.213Z"
          />
          <path
            class="a"
            d="M7.871,213.332H1.489A1.491,1.491,0,0,0,0,214.821v8.935a1.491,1.491,0,0,0,1.489,1.489H7.871a1.491,1.491,0,0,0,1.489-1.489v-8.935A1.491,1.491,0,0,0,7.871,213.332Zm.213,10.424a.213.213,0,0,1-.213.213H1.489a.213.213,0,0,1-.213-.213v-8.935a.213.213,0,0,1,.213-.213H7.871a.213.213,0,0,1,.213.213Z"
            transform="translate(0 -204.823)"
          />
          <path
            class="a"
            d="M285.2,341.332h-6.382a1.491,1.491,0,0,0-1.489,1.489v3.829a1.491,1.491,0,0,0,1.489,1.489H285.2a1.491,1.491,0,0,0,1.489-1.489v-3.829A1.491,1.491,0,0,0,285.2,341.332Zm.213,5.318a.213.213,0,0,1-.213.213h-6.382a.213.213,0,0,1-.213-.213v-3.829a.213.213,0,0,1,.213-.213H285.2a.213.213,0,0,1,.213.213Z"
            transform="translate(-266.27 -327.717)"
          />
          <path
            class="a"
            d="M285.2,0h-6.382a1.491,1.491,0,0,0-1.489,1.489v8.935a1.491,1.491,0,0,0,1.489,1.489H285.2a1.491,1.491,0,0,0,1.489-1.489V1.489A1.491,1.491,0,0,0,285.2,0Zm.213,10.424a.213.213,0,0,1-.213.213h-6.382a.213.213,0,0,1-.213-.213V1.489a.213.213,0,0,1,.213-.213H285.2a.213.213,0,0,1,.213.213Z"
            transform="translate(-266.27)"
          />
        </svg>
      ),
      title: "Vista general",
    },
    {
      svg: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="19.667"
          height="19.667"
          viewBox="0 0 19.667 19.667"
        >
          <defs>
            <style></style>
          </defs>
          <path
            class="a"
            d="M11.908,19.667h-7.3A4.615,4.615,0,0,1,0,15.057V4.609A4.615,4.615,0,0,1,4.609,0H15.057a4.615,4.615,0,0,1,4.609,4.609v7.356a.768.768,0,0,1-1.536,0V4.609a3.076,3.076,0,0,0-3.073-3.073H4.609A3.076,3.076,0,0,0,1.536,4.609V15.057A3.076,3.076,0,0,0,4.609,18.13h7.3a.768.768,0,0,1,0,1.536ZM15.825,4.84a.768.768,0,0,0-.768-.768H8.028a.768.768,0,1,0,0,1.536h7.029A.768.768,0,0,0,15.825,4.84Zm0,3.073a.768.768,0,0,0-.768-.768H4.609a.768.768,0,1,0,0,1.536H15.057A.768.768,0,0,0,15.825,7.913ZM8.143,10.986a.768.768,0,0,0-.768-.768H4.609a.768.768,0,1,0,0,1.536H7.375A.768.768,0,0,0,8.143,10.986Zm-4.3-6.223A.96.96,0,1,0,4.8,3.8.96.96,0,0,0,3.841,4.763Zm15,14.082a2.807,2.807,0,0,0,0-3.965l-2.693-2.693a5.538,5.538,0,0,0-2.84-1.52l-2.177-.435a.768.768,0,0,0-.9.9l.435,2.177a5.539,5.539,0,0,0,1.519,2.84l2.693,2.693a2.8,2.8,0,0,0,3.966,0Zm-5.834-6.671a4.006,4.006,0,0,1,2.054,1.1l2.693,2.693a1.268,1.268,0,1,1-1.793,1.793l-2.693-2.693a4.007,4.007,0,0,1-1.1-2.054l-.209-1.047Z"
          />
        </svg>
      ),
      title: "Programas y cursos",
    },
    {
      svg: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="19.667"
          height="19.667"
          viewBox="0 0 19.667 19.667"
        >
          <defs>
            <style></style>
          </defs>
          <path
            class="a"
            d="M11.908,19.667h-7.3A4.615,4.615,0,0,1,0,15.057V4.609A4.615,4.615,0,0,1,4.609,0H15.057a4.615,4.615,0,0,1,4.609,4.609v7.356a.768.768,0,0,1-1.536,0V4.609a3.076,3.076,0,0,0-3.073-3.073H4.609A3.076,3.076,0,0,0,1.536,4.609V15.057A3.076,3.076,0,0,0,4.609,18.13h7.3a.768.768,0,0,1,0,1.536ZM15.825,4.84a.768.768,0,0,0-.768-.768H8.028a.768.768,0,1,0,0,1.536h7.029A.768.768,0,0,0,15.825,4.84Zm0,3.073a.768.768,0,0,0-.768-.768H4.609a.768.768,0,1,0,0,1.536H15.057A.768.768,0,0,0,15.825,7.913ZM8.143,10.986a.768.768,0,0,0-.768-.768H4.609a.768.768,0,1,0,0,1.536H7.375A.768.768,0,0,0,8.143,10.986Zm-4.3-6.223A.96.96,0,1,0,4.8,3.8.96.96,0,0,0,3.841,4.763Zm15,14.082a2.807,2.807,0,0,0,0-3.965l-2.693-2.693a5.538,5.538,0,0,0-2.84-1.52l-2.177-.435a.768.768,0,0,0-.9.9l.435,2.177a5.539,5.539,0,0,0,1.519,2.84l2.693,2.693a2.8,2.8,0,0,0,3.966,0Zm-5.834-6.671a4.006,4.006,0,0,1,2.054,1.1l2.693,2.693a1.268,1.268,0,1,1-1.793,1.793l-2.693-2.693a4.007,4.007,0,0,1-1.1-2.054l-.209-1.047Z"
          />
        </svg>
      ),
      title: "Diseña tu sitio",
    },
    {
      svg: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="19.08"
          height="19.08"
          viewBox="0 0 19.08 19.08"
        >
          <defs>
            <style></style>
          </defs>
          <path
            class="a"
            d="M9.54,4.77C8.564,4.77,0,4.7,0,2.385S8.564,0,9.54,0s9.54.067,9.54,2.385S10.516,4.77,9.54,4.77ZM1.262,2.385c.582.452,3.375,1.192,8.277,1.192s7.7-.741,8.277-1.192c-.582-.452-3.375-1.192-8.277-1.192s-7.7.741-8.277,1.192Zm16.646.092h.008Z"
          />
          <path
            class="a"
            d="M9.54,11.231c-.976,0-9.54-.067-9.54-2.385a.6.6,0,0,1,1.189-.068c.367.44,3.19,1.261,8.351,1.261s7.984-.821,8.351-1.261a.6.6,0,0,1,1.189.068c0,2.318-8.564,2.385-9.54,2.385Zm8.347-2.386Zm-16.695,0Z"
            transform="translate(0 -1.691)"
          />
          <path
            class="a"
            d="M9.54,17.231c-.976,0-9.54-.067-9.54-2.385a.6.6,0,0,1,1.189-.068c.367.44,3.19,1.261,8.351,1.261s7.984-.821,8.351-1.261a.6.6,0,0,1,1.189.068c0,2.318-8.564,2.385-9.54,2.385Zm8.347-2.386Zm-16.695,0Z"
            transform="translate(0 -2.921)"
          />
          <path
            class="a"
            d="M9.54,19.541c-.976,0-9.54-.067-9.54-2.385V2.846a.6.6,0,1,1,1.192,0V17.092c.382.442,3.2,1.257,8.347,1.257s7.965-.815,8.347-1.257V2.846a.6.6,0,1,1,1.192,0v14.31C19.08,19.474,10.516,19.541,9.54,19.541Z"
            transform="translate(0 -0.461)"
          />
          <circle
            class="a"
            cx="1"
            cy="1"
            r="1"
            transform="translate(3 10.08)"
          />
          <circle class="a" cx="1" cy="1" r="1" transform="translate(3 5.08)" />
          <circle
            class="a"
            cx="1"
            cy="1"
            r="1"
            transform="translate(3 15.08)"
          />
        </svg>
      ),
      title: "Estudiantes / Clientes",
    },
    {
      svg: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="19.6"
          height="19.6"
          viewBox="0 0 19.6 19.6"
        >
          <defs>
            <style></style>
          </defs>
          <g transform="translate(0 0)">
            <path
              class="a"
              d="M19.577,1.463a1.524,1.524,0,0,0-1.44-1.44,15.13,15.13,0,0,0-7.585,1.518A14.89,14.89,0,0,0,6.2,5.147L6.158,5.2l-2.87.222A1.515,1.515,0,0,0,2.133,6.1L.174,9.066a1.05,1.05,0,0,0,.715,1.616l2.418.375c-.009.047-.017.094-.025.141a1.523,1.523,0,0,0,.427,1.325l3.368,3.369a1.526,1.526,0,0,0,1.077.447,1.5,1.5,0,0,0,.247-.021l.141-.025.375,2.418a1.049,1.049,0,0,0,1.616.715L13.5,17.467a1.515,1.515,0,0,0,.679-1.155l.222-2.87.056-.046a14.889,14.889,0,0,0,3.606-4.348,15.131,15.131,0,0,0,1.518-7.585ZM12.863,16.509l-2.833,1.873-.365-2.357a12.864,12.864,0,0,0,3.51-1.671l-.144,1.87a.374.374,0,0,1-.168.285ZM7.89,15.079,4.521,11.71a.372.372,0,0,1-.106-.323,9.878,9.878,0,0,1,.448-1.706l5.054,5.054a9.92,9.92,0,0,1-1.7.449A.372.372,0,0,1,7.89,15.079ZM3.376,6.57l1.87-.144a12.863,12.863,0,0,0-1.671,3.51L1.217,9.571,3.091,6.737A.374.374,0,0,1,3.376,6.57Zm10.342,5.945a13.166,13.166,0,0,1-2.658,1.738L5.347,8.54A13.393,13.393,0,0,1,7.086,5.882,13.7,13.7,0,0,1,11.08,2.561,13.968,13.968,0,0,1,18.074,1.17a.377.377,0,0,1,.356.356A13.967,13.967,0,0,1,17.039,8.52a13.7,13.7,0,0,1-3.321,3.994Z"
              transform="translate(0 0)"
            />
            <path
              class="a"
              d="M278.594,92.058a2.869,2.869,0,1,0-2.03-.84A2.863,2.863,0,0,0,278.594,92.058Zm-1.218-4.088a1.723,1.723,0,1,1-.5,1.218A1.717,1.717,0,0,1,277.376,87.97Z"
              transform="translate(-265.168 -83.014)"
            />
            <path
              class="a"
              d="M.876,345.988a.572.572,0,0,0,.406-.168l1.875-1.875a.574.574,0,0,0-.812-.812L.47,345.007a.574.574,0,0,0,.406.98Z"
              transform="translate(-0.29 -329.835)"
            />
            <path
              class="a"
              d="M4.585,388.014a.574.574,0,0,0-.812,0l-3.6,3.6a.574.574,0,1,0,.812.812l3.6-3.6a.574.574,0,0,0,0-.812Z"
              transform="translate(-0.001 -372.998)"
            />
            <path
              class="a"
              d="M92.105,432.895l-1.875,1.875a.574.574,0,0,0,.812.812l1.875-1.875a.574.574,0,1,0-.812-.812Z"
              transform="translate(-86.615 -416.161)"
            />
          </g>
        </svg>
      ),
      title: "Marketing y Ventas",
    },
    {
      svg: (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="20.08"
          height="18.004"
          viewBox="0 0 20.08 18.004"
        >
          <defs>
            <style></style>
          </defs>
          <g transform="translate(-90.23 -151.354)">
            <path
              class="a"
              d="M93.173,169.274H91.442a1.214,1.214,0,0,0-1.212,1.212v3.75a.636.636,0,0,0,.635.635H93.75a.636.636,0,0,0,.634-.635v-3.751A1.214,1.214,0,0,0,93.173,169.274ZM91.5,173.6v-3.058h1.616V173.6Z"
              transform="translate(0 -5.513)"
            />
            <path
              class="a"
              d="M100.84,163.44H99.109a1.215,1.215,0,0,0-1.212,1.212v7.79a.636.636,0,0,0,.635.635h2.885a.636.636,0,0,0,.635-.635v-7.79A1.215,1.215,0,0,0,100.84,163.44Zm-1.673,8.366v-7.1h1.615v7.1Z"
              transform="translate(-2.359 -3.718)"
            />
            <path
              class="a"
              d="M108.507,165.94h-1.732a1.216,1.216,0,0,0-1.212,1.212v6.059a.636.636,0,0,0,.635.635h2.885a.636.636,0,0,0,.635-.635v-6.059A1.215,1.215,0,0,0,108.507,165.94Zm-1.673,6.636V167.21h1.616v5.366Z"
              transform="translate(-4.717 -4.487)"
            />
            <path
              class="a"
              d="M116.175,162.606h-1.732a1.215,1.215,0,0,0-1.211,1.212v8.366a.636.636,0,0,0,.635.635h2.885a.636.636,0,0,0,.634-.635v-8.367A1.215,1.215,0,0,0,116.175,162.606ZM114.5,171.55v-7.674h1.616v7.674Z"
              transform="translate(-7.076 -3.462)"
            />
            <path
              class="a"
              d="M93.3,160.989a2.072,2.072,0,0,0,1.761-3.177l2.069-2.459a2.072,2.072,0,0,0,1.988-.227l1.454,1.09a2.077,2.077,0,1,0,3.976.168l1.264-.789a2.076,2.076,0,1,0,1.34-3.663h0a2.076,2.076,0,0,0-2.013,2.587l-1.264.79a2.07,2.07,0,0,0-2.539-.108l-1.455-1.09a2.077,2.077,0,1,0-3.721.424l-2.069,2.461a2.092,2.092,0,0,0-2.483.722,2.071,2.071,0,0,0,1.694,3.272Zm4.617-6.749a.808.808,0,1,1,.808-.808A.808.808,0,0,1,97.921,154.24Zm-3.808,4.674a.808.808,0,1,1-.808-.808A.811.811,0,0,1,94.113,158.914Zm8.424-1.212a.808.808,0,1,1,.809-.808A.809.809,0,0,1,102.537,157.7Zm4.617-4.5a.808.808,0,1,1-.808.808A.809.809,0,0,1,107.154,153.2Z"
              transform="translate(-0.306)"
            />
          </g>
        </svg>
      ),
      title: "Analítica y reporte",
    },
  ];

  return (
    <>
      <aside
        className={`dashboard__aside ${
          isCollapse ? "dashboard__aside--collapsed" : ""
        }`}
      >
        <div
          className={`aside__head ${
            isCollapse ? "aside__head--collapsed" : ""
          }`}
        >
          <img
            onClick={() => setIsCollapse(!isCollapse)}
            src="/Group 5133.svg"
            alt="menu-icon"
          />
          <h1 className="head__h1">{!isCollapse ? "Prendo" : "P"}</h1>
        </div>
        <ul className="aside__list">
          {menuItems.map((item) => (
            <li
              onClick={() => setIsActive(item.title)}
              className={`list__item 
            ${isActive == item.title ? "list__item--active" : ""} 
            ${isCollapse ? "list__item--collapsed" : ""}
            }`}
              key={item.title}
            >
              {item.svg}
              {!isCollapse ? (
                <Fade timeout={500} in={!isCollapse}>
                  <span>{item.title}</span>
                </Fade>
              ) : (
                ""
              )}
            </li>
          ))}
        </ul>
        <ul className="aside__list aside__list--bottom">
          <li className="list__item">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="22"
              height="19"
              viewBox="0 0 22 19"
            >
              <defs>
                <style></style>
              </defs>
              <g transform="translate(0.5 0.5)">
                <path
                  class="a"
                  d="M23.25,7.5H20.175a3.751,3.751,0,0,0-7.351,0H2.25V9H12.825a3.751,3.751,0,0,0,7.351,0H23.25Zm-6.75,3a2.25,2.25,0,1,1,2.25-2.25A2.21,2.21,0,0,1,16.5,10.5Z"
                  transform="translate(-2.25 -4.5)"
                />
                <path
                  class="a"
                  d="M2.25,24.75H5.325a3.751,3.751,0,0,0,7.351,0H23.25v-1.5H12.675a3.751,3.751,0,0,0-7.351,0H2.25Zm6.75-3A2.25,2.25,0,1,1,6.75,24,2.21,2.21,0,0,1,9,21.75Z"
                  transform="translate(-2.25 -9.75)"
                />
              </g>
            </svg>
            {!isCollapse ? (
              <Fade timeout={500} in={!isCollapse}>
                <span>Configuración</span>
              </Fade>
            ) : (
              ""
            )}
          </li>
        </ul>
      </aside>
      {match_mq__maxWith_1024 ? <Backdrop onClick={()=>setIsCollapse(!isCollapse)} open={backdropOpen} /> : ""}
    </>
  );
};

export default AsideCollapseMenu;
